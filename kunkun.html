<!DOCTYPE html>
<html lang="zh-Hant">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KunKun Monitoring Dashboard</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        .grid-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(7rem, 1fr));
            gap: 0.5rem;
        }

        .operate-button {
            color: #3b82f6;
            /* è“è‰²æ–‡å­— */
            transition: color 0.2s ease;
        }

        .operate-button:hover {
            color: #2563eb;
            /* æ‚¬åœæ—¶æ·±è“è‰² */
        }

        #modal-root {
            background-color: rgba(0, 0, 0, 0.5);
            /* åŠé€æ˜èƒŒæ™¯ */
            transition: opacity 0.3s ease;
        }

        /* å›¾è¡¨å®¹å™¨ */
        #trendChart {
            background-color: #ffffff;
            border-radius: 8px;
            padding: 1rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .online {
            border-left: 4px solid #4ade80;
            /* ç»¿è‰²è¡¨ç¤ºåœ¨çº¿ */
        }

        .offline {
            border-left: 4px solid #ef4444;
            /* çº¢è‰²è¡¨ç¤ºç¦»çº¿ */
        }

        .bg-success {
            background-color: #4ade80;
            /* ç»¿è‰²èƒŒæ™¯ */
        }

        .kv-k {
            color: #6b7280;
            /* æµ…ç°è‰²é”®å */
            font-size: 0.75rem;
            font-weight: 500;
            /* ä¸­ç­‰å­—é‡ */
        }

        .kv-v {
            color: #1f2937;
            /* æ·±ç°è‰²å€¼ */
        }

        h1 {
            font-size: 1.5rem;
            font-weight: 600;
            color: #1f2937;
            /* æ·±ç°è‰²æ ‡é¢˜ */
        }

        #trendChart {
            min-height: 300px;
        }

        body {
            font-family: 'Inter', sans-serif;
            /* ä½¿ç”¨ç°ä»£å­—ä½“ */
            background-color: #f8f9fa;
            /* æµ…ç°è‰²èƒŒæ™¯ */
        }

        .min-h-screen {
            padding: 2rem;
            /* å¢åŠ é¡µé¢å†…è¾¹è· */
        }

        .bg-white {
            border-radius: 12px;
            /* åœ†è§’å¡ç‰‡ */
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            /* å¡ç‰‡é˜´å½± */
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            /* æ‚¬åœåŠ¨ç”» */
        }

        .bg-white:hover {
            transform: translateY(-2px);
            /* æ‚¬åœæ—¶è½»å¾®ä¸Šç§» */
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
            /* æ‚¬åœæ—¶é˜´å½±åŠ æ·± */
        }

        /* å­—æ®µé€‰æ‹©å™¨æ ·å¼ */
        .grid-cols-3 {
            gap: 1rem;
            /* å¢åŠ é—´è· */
        }

        label {
            display: flex;
            align-items: center;
            padding: 0.5rem;
            border-radius: 8px;
            background-color: #f3f4f6;
            /* æµ…ç°è‰²èƒŒæ™¯ */
            transition: background-color 0.2s ease;
        }

        label:hover {
            background-color: #e5e7eb;
            /* æ‚¬åœæ—¶æ·±ç°è‰² */
        }

        input[type="checkbox"] {
            margin-right: 0.5rem;
        }

        /* æš—é»‘æ¨¡å¼æ ·å¼ */
        .dark body {
            background-color: #1a1a1a;
            color: #ffffff;
        }

        .dark .bg-white {
            background-color: #2d2d2d;
            color: #ffffff;
        }

        .dark .kv-k {
            color: #9ca3af;
        }

        .dark .kv-v {
            color: #d1d5db;
        }
    </style>
</head>

<body>
    <div id="root">
        <!--         åŠ è½½åŠ¨ç”» -->
        <div id="loading" class="fixed inset-0 flex items-center justify-center bg-white bg-opacity-75">
            <div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"></div>
        </div>
    </div>
    <div id="modal-root"></div>

    <!-- React and ReactDOM CDN -->
    <script src="https://cdn.jsdelivr.net/npm/react@17.0.2/umd/react.production.min.js" crossorigin></script>
    <script src="https://cdn.jsdelivr.net/npm/react-dom@17/umd/react-dom.production.min.js" crossorigin></script>
    <!-- Axios CDN -->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <!-- Chart.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        const { useState, useEffect, useMemo, useCallback, useReducer, useRef } = React;
        const HOST = '';
        const CHART_COLORS = {
            red: 'rgba(239, 68, 68, 0.8)', /* çº¢è‰² */
            orange: 'rgba(249, 115, 22, 0.8)', /* æ©™è‰² */
            yellow: 'rgba(234, 179, 8, 0.8)', /* é»„è‰² */
            green: 'rgba(34, 197, 94, 0.8)', /* ç»¿è‰² */
            blue: 'rgba(59, 130, 246, 0.8)', /* è“è‰² */
            purple: 'rgba(139, 92, 246, 0.8)', /* ç´«è‰² */
        };

        // Helper functions
        const BtoGB = (bytes) => (bytes / 1024 / 1024 / 1024).toFixed(2);
        const usagePercentage = (used, total) => ((used / total) * 100).toFixed(2);
        const formatTime = (timestamp) => new Date(timestamp * 1000).toLocaleTimeString();
        const isOutdated = (timestamp) => Math.floor(Date.now() / 1000) - timestamp > 1 * 60;


        // å®šä¹‰éœ€è¦æ¸²æŸ“çš„å­—æ®µï¼Œå®é™…æœåŠ¡å™¨è¿”å›çš„å­—æ®µä¸­æœ‰ä¸€äº›ä¸é€‚åˆç›´æ¥å±•ç¤º
        const TITLES = {
            hostname: ['ä¸»æœºå', '', 'å½“å‰æœåŠ¡å™¨çš„ä¸»æœºåç§°'],
            machine_name: ['æœºå™¨åç§°', '', 'æœåŠ¡å™¨çš„è‡ªå®šä¹‰åç§°'],
            uptimeDays: ['è¿è¡Œæ—¶é—´', 'å¤©', 'æœåŠ¡å™¨è‡ªä¸Šæ¬¡å¯åŠ¨ä»¥æ¥çš„è¿è¡Œå¤©æ•°'],

            tasksInfo: ['è¿›ç¨‹ (è¿è¡Œä¸­/å…¨éƒ¨)', '', 'å½“å‰è¿è¡Œçš„è¿›ç¨‹æ•°é‡ä¸æ€»è¿›ç¨‹æ•°é‡'],
            loadAverages: ['è´Ÿè½½', '', 'ç³»ç»Ÿåœ¨è¿‡å» 1ã€5ã€15 åˆ†é’Ÿçš„å¹³å‡è´Ÿè½½'],
            memoryUsage: ['å†…å­˜', '', 'å½“å‰å†…å­˜ä½¿ç”¨æƒ…å†µï¼Œå·²ç”¨/å¯ç”¨'],

            trafficInfo: ['æ€»æµé‡ (æ¥æ”¶/å‘é€)', 'G', 'æœåŠ¡å™¨è‡ªä¸Šæ¬¡å¯åŠ¨ä»¥æ¥çš„ç½‘ç»œæ€»æµé‡ï¼ŒåŒ…æ‹¬æ¥æ”¶å’Œå‘é€çš„æ•°æ®é‡'],
            connectionInfo: ['è¿æ¥æ•° (TCP/UDP)', '', 'å½“å‰ TCP å’Œ UDP è¿æ¥æ•°'],
            netTxSpeedKB: ['ä¸Šä¼ é€Ÿåº¦', 'K', 'å½“å‰ç½‘ç»œä¸Šä¼ é€Ÿåº¦'],
            netRxSpeedKB: ['ä¸‹è½½é€Ÿåº¦', 'K', 'å½“å‰ç½‘ç»œä¸‹è½½é€Ÿåº¦'],

            updateAt: ['æ›´æ–°æ—¶é—´', '', 'æ•°æ®æœ€åæ›´æ–°æ—¶é—´'],

            cpu_num_cores: ['CPU æ ¸å¿ƒæ•°', '', 'CPU çš„æ ¸å¿ƒæ•°é‡'],
            cpu_delay_us: ['CPU å»¶è¿Ÿ', 'Î¼s', 'CPU å¤„ç†ä»»åŠ¡çš„å»¶è¿Ÿæ—¶é—´'],
            cpu_us_percent: ['CPU ç”¨æˆ·å ç”¨', '%', 'ç”¨æˆ·è¿›ç¨‹å ç”¨çš„ CPU ç™¾åˆ†æ¯”'],
            cpu_sy_percent: ['CPU ç³»ç»Ÿå ç”¨', '%', 'ç³»ç»Ÿå†…æ ¸å ç”¨çš„ CPU ç™¾åˆ†æ¯”'],
            cpu_ni_percent: ['CPU ä½ä¼˜å…ˆçº§', '%', 'ä½ä¼˜å…ˆçº§è¿›ç¨‹å ç”¨çš„ CPU ç™¾åˆ†æ¯”'],
            cpu_id_percent: ['CPU ç©ºé—²', '%', 'CPU ç©ºé—²æ—¶é—´çš„ç™¾åˆ†æ¯”'],
            cpu_wa_percent: ['CPU IOç­‰å¾…', '%', 'CPU ç­‰å¾… I/O æ“ä½œçš„æ—¶é—´ç™¾åˆ†æ¯”'],
            cpu_hi_percent: ['CPU ç¡¬ä»¶ä¸­æ–­', '%', 'ç¡¬ä»¶ä¸­æ–­å ç”¨çš„ CPU ç™¾åˆ†æ¯”'],
            cpu_st_percent: ['CPU è¢«å®¿ä¸»æœºå ç”¨', '%', 'è™šæ‹Ÿæœºè¢«å®¿ä¸»æœºå ç”¨çš„ CPU ç™¾åˆ†æ¯”'],

            rootDiskInfo: ['æ ¹ç›®å½•ç©ºé—´', '', 'æ ¹ç›®å½•ç£ç›˜çš„ä½¿ç”¨æƒ…å†µï¼Œå·²ç”¨/å¯ç”¨'],
            disk_delay_us: ['ç£ç›˜å»¶è¿Ÿ', 'ms', 'æ ¹ç›®å½•ç£ç›˜ I/O æ“ä½œçš„å»¶è¿Ÿæ—¶é—´'],
            readsPerSecond: ['è¯»å–æ¬¡æ•°', '', 'æ ¹ç›®å½•ç£ç›˜é‡‡æ ·å‘¨æœŸå†…çš„è¯»å–æ“ä½œæ¬¡æ•°'],
            writesPerSecond: ['å†™å…¥æ¬¡æ•°', '', 'æ ¹ç›®å½•ç£ç›˜é‡‡æ ·å‘¨æœŸå†…çš„å†™å…¥æ“ä½œæ¬¡æ•°'],
            avgReadLatency: ['å¹³å‡è¯»å–å»¶è¿Ÿ', 'ms', 'æ ¹ç›®å½•ç£ç›˜è¯»å–æ“ä½œçš„å¹³å‡å»¶è¿Ÿæ—¶é—´'],
            avgWriteLatency: ['å¹³å‡å†™å…¥å»¶è¿Ÿ', 'ms', 'æ ¹ç›®å½•ç£ç›˜å†™å…¥æ“ä½œçš„å¹³å‡å»¶è¿Ÿæ—¶é—´'],
            diskUtilization: ['ç£ç›˜åˆ©ç”¨ç‡', '%', 'æ ¹ç›®å½•ç£ç›˜çš„ä½¿ç”¨ç‡ç™¾åˆ†æ¯”'],
            weightedIoTimePercent: ['åŠ æƒI/Oæ—¶é—´', '%', 'æ ¹ç›®å½•ç£ç›˜ I/O æ“ä½œçš„åŠ æƒæ—¶é—´ç™¾åˆ†æ¯”'],
        };


        function PercentageCircle({ percentage }) {
            const radius = 20; // åœ†ç¯åŠå¾„
            const circumference = 2 * Math.PI * radius; // åœ†ç¯å‘¨é•¿
            const offset = circumference * (1 - percentage); // æ ¹æ®ç™¾åˆ†æ¯”è®¡ç®— offset

            return React.createElement(
                'div',
                { className: 'inline-block align-middle mr-1', title: percentage * 100 + '%' },
                React.createElement(
                    'svg',
                    {
                        className: 'w-4 h-4',
                        viewBox: '0 0 50 50',
                    },
                    React.createElement('circle', {
                        className: 'text-gray-200 stroke-current',
                        strokeWidth: '7',
                        fill: 'transparent',
                        r: radius,
                        cx: '25',
                        cy: '25',
                    }),
                    React.createElement('circle', {
                        className: 'text-blue-500 stroke-current',
                        strokeWidth: '7',
                        fill: 'transparent',
                        r: radius,
                        cx: '25',
                        cy: '25',
                        strokeDasharray: circumference,
                        strokeDashoffset: offset,
                        style: { transition: 'stroke-dashoffset 0.5s ease' },
                    })
                )
            );
        }


        function calculateAndNormalizeKeys(obj, keys) {
            // å¯¹ç´¯è®¡æ±‚å’Œå æ¯”ç±»å­—æ®µè¿›è¡Œæ±‚å‡ºåˆ†åˆ«ç™¾åˆ†æ¯”ï¼Œä¾‹å¦‚ CPU ç»Ÿè®¡ä¿¡æ¯

            // 1. è®¡ç®— keys åˆ—è¡¨ä¸­æ‰€æœ‰é”®çš„å€¼çš„æ€»å’Œ
            const total = keys.reduce((sum, key) => sum + (obj[key] || 0), 0);

            // 2. éå† keys åˆ—è¡¨ï¼Œå°†æ¯ä¸ªé”®çš„å€¼é™¤ä»¥æ€»å’Œï¼Œå¹¶ä¿ç•™ä¸¤ä½å°æ•°
            keys.forEach(key => {
                if (obj[key] !== undefined) { // ç¡®ä¿é”®å­˜åœ¨
                    obj[key] = parseFloat(((obj[key] / total) * 100).toFixed(2));
                }
            });

            // 3. è¿”å›å¤„ç†åçš„å¯¹è±¡
            return obj;
        }


        function calculateUsedMemParcent(obj) {
            // ä¸ºç»Ÿè®¡è¡Œæ·»åŠ å†…å­˜å®é™…ä½¿ç”¨é‡å’Œå æ¯”å­—æ®µ
            obj.mem_really_used_mib = (obj.mem_total_mib - (obj.mem_free_mib + obj.mem_buff_cache_mib)).toFixed(2);
            obj.mem_used_total_percent = (obj.mem_really_used_mib / obj.mem_total_mib * 100).toFixed(2);
            return obj;
        }

        const TrendModal = ({ clientId, onClose }) => {

            const [apiData, setApiData] = useState(null);
            const [chartData, setChartData] = useState(null);
            const [dataLevel, setDataLevel] = useState('seconds'); // æ•°æ®çº§åˆ«ï¼šseconds, minutes, hours
            const [selectedKeys, setSelectedKeys] = useState(null); // é€‰ä¸­çš„ key åˆ—è¡¨
            const [availableKeys, setAvailableKeys] = useState([]); // å¯é€‰çš„ key åˆ—è¡¨

            // æ•°æ®çº§åˆ«é€‰é¡¹
            const dataLevelOptions = [
                { value: 'seconds', label: 'æœ€è¿‘ä¸€å°æ—¶', title: '10ç§’é€’è¿›' },
                { value: 'minutes', label: 'æœ€è¿‘ä¸€å¤©', title: '60ç§’é€’è¿›' },
                { value: 'hours', label: 'æœ€è¿‘ä¸€å¹´', title: '60åˆ†é’Ÿé€’è¿›' },
            ];


            const apiObjectKeys = {
                uptime_s: ["è¿è¡Œæ—¶é—´", "ç§’", "ç³»ç»Ÿè¿è¡Œçš„æ€»æ—¶é—´ï¼ˆç§’ï¼‰"],
                load_1min: ["è´Ÿè½½-1åˆ†é’Ÿ", "", "è¿‡å»1åˆ†é’Ÿçš„ç³»ç»Ÿå¹³å‡è´Ÿè½½"],
                load_5min: ["è´Ÿè½½-5åˆ†é’Ÿè´Ÿè½½", "", "è¿‡å»5åˆ†é’Ÿçš„ç³»ç»Ÿå¹³å‡è´Ÿè½½"],
                load_15min: ["è´Ÿè½½-15åˆ†é’Ÿè´Ÿè½½", "", "è¿‡å»15åˆ†é’Ÿçš„ç³»ç»Ÿå¹³å‡è´Ÿè½½"],

                running_tasks: ["ä»»åŠ¡æ•°-æ­£åœ¨è¿›è¡Œ", "", "å½“å‰æ­£åœ¨è¿è¡Œçš„ä»»åŠ¡æ•°é‡"],
                total_tasks: ["ä»»åŠ¡æ•°-å…¨éƒ¨", "", "ç³»ç»Ÿä¸­æ€»çš„ä»»åŠ¡æ•°é‡"],

                cpu_num_cores: ["CPU-æ ¸å¿ƒæ•°", "", "CPUçš„æ ¸å¿ƒæ•°é‡"],
                cpu_delay_us: ["CPU-å»¶è¿Ÿ", "Î¼s", "CPUä»»åŠ¡çš„å»¶è¿Ÿæ—¶é—´ï¼ˆå¾®ç§’ï¼‰"],
                cpu_user: ["CPU-ç”¨æˆ·å ç”¨", "%", "ç”¨æˆ·ç©ºé—´å ç”¨çš„CPUç™¾åˆ†æ¯”"],
                cpu_system: ["CPU-ç³»ç»Ÿå ç”¨", "%", "å†…æ ¸ç©ºé—´å ç”¨çš„CPUç™¾åˆ†æ¯”"],
                cpu_nice: ["CPU-ä½ä¼˜å…ˆçº§", "%", "ä½ä¼˜å…ˆçº§è¿›ç¨‹å ç”¨çš„CPUç™¾åˆ†æ¯”"],
                cpu_idle: ["CPU-ç©ºé—²", "%", "CPUç©ºé—²æ—¶é—´çš„ç™¾åˆ†æ¯”"],
                cpu_iowait: ["CPU-IOç­‰å¾…", "%", "CPUç­‰å¾…IOæ“ä½œçš„æ—¶é—´ç™¾åˆ†æ¯”"],
                cpu_irq: ["CPU-ç¡¬ä»¶ä¸­æ–­", "%", "CPUå¤„ç†ç¡¬ä¸­æ–­çš„æ—¶é—´ç™¾åˆ†æ¯”"],
                cpu_softirq: ["CPU-è½¯ä»¶ä¸­æ–­", "%", "CPUå¤„ç†è½¯ä¸­æ–­çš„æ—¶é—´ç™¾åˆ†æ¯”"],
                cpu_steal: ["CPU-è¢«å®¿ä¸»æœºå ç”¨", "%", "è™šæ‹ŸCPUç­‰å¾…ç‰©ç†CPUçš„æ—¶é—´ç™¾åˆ†æ¯”"],

                mem_really_used_mib: ["å†…å­˜-çœŸå®å·²ç”¨", "Mib", "å‡å»ç¼“å­˜å’Œç¼“å†²çš„å†…å­˜å ç”¨å¤§å°ï¼ˆMiBï¼‰"],
                mem_used_total_percent: ["å†…å­˜-å·²ç”¨å æ¯”", "%", "çœŸå®å†…å­˜ä½¿ç”¨é‡å æ¯”"],
                mem_total_mib: ["å†…å­˜-å…¨éƒ¨", "MiB", "ç³»ç»Ÿæ€»å†…å­˜å¤§å°ï¼ˆMiBï¼‰"],
                mem_free_mib: ["å†…å­˜-ç©ºé—²", "MiB", "ç³»ç»Ÿç©ºé—²å†…å­˜å¤§å°ï¼ˆMiBï¼‰"],
                mem_used_mib: ["å†…å­˜-å·²ç”¨", "MiB", "ç³»ç»Ÿå·²ç”¨å†…å­˜å¤§å°ï¼ˆMiBï¼‰"],
                mem_buff_cache_mib: ["å†…å­˜-ç¼“å­˜", "MiB", "ç”¨äºç¼“å­˜å’Œç¼“å†²çš„å†…å­˜å¤§å°ï¼ˆMiBï¼‰"],

                tcp_connections: ["è¿æ¥æ•°-TCP", "ä¸ª", "å½“å‰TCPè¿æ¥æ•°é‡"],
                udp_connections: ["è¿æ¥æ•°-UDP", "ä¸ª", "å½“å‰UDPè¿æ¥æ•°é‡"],

                default_interface_net_rx_bytes: ["æµé‡-ä¸‹è½½é€Ÿåº¦", "Bit", "å½“å‰å¼€æœºæœŸé—´é»˜è®¤ç½‘ç»œæ¥å£æ¥æ”¶çš„æ€»å­—èŠ‚æ•°"],
                default_interface_net_tx_bytes: ["æµé‡-ä¸Šä¼ é€Ÿåº¦", "Bit", "å½“å‰å¼€æœºæœŸé—´é»˜è®¤ç½‘ç»œæ¥å£å‘é€çš„æ€»å­—èŠ‚æ•°"],

                disk_delay_us: ["ç£ç›˜-å»¶è¿Ÿ", "ms", "ç£ç›˜IOæ“ä½œçš„å»¶è¿Ÿæ—¶é—´ï¼ˆæ¯«ç§’ï¼‰"],
                root_disk_total_kb: ["ç£ç›˜-æ ¹ç›®å½•æ€»ç©ºé—´", "KB", "æ ¹ç£ç›˜çš„æ€»å®¹é‡ï¼ˆKBï¼‰"],
                root_disk_avail_kb: ["ç£ç›˜-æ ¹ç›®å½•å¯ç”¨ç©ºé—´", "KB", "æ ¹ç£ç›˜çš„å¯ç”¨å®¹é‡ï¼ˆKBï¼‰"],
                reads_completed: ["ç£ç›˜-è¯»å–å®Œæˆæ¬¡æ•°", "", "ç£ç›˜è¯»å–æ“ä½œå®Œæˆçš„æ¬¡æ•°"],
                writes_completed: ["ç£ç›˜-å†™å…¥å®Œæˆæ¬¡æ•°", "", "ç£ç›˜å†™å…¥æ“ä½œå®Œæˆçš„æ¬¡æ•°"],
                reading_ms: ["ç£ç›˜-è¯»å–æ—¶é—´", "ms", "ç£ç›˜è¯»å–æ“ä½œçš„æ€»æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰"],
                writing_ms: ["ç£ç›˜-å†™å…¥æ—¶é—´", "ms", "ç£ç›˜å†™å…¥æ“ä½œçš„æ€»æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰"],
                iotime_ms: ["ç£ç›˜-IOæ—¶é—´", "ms", "ç£ç›˜IOæ“ä½œçš„æ€»æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰"],
                ios_in_progress: ["ç£ç›˜-è¿›è¡Œä¸­çš„IOæ“ä½œ", "", "å½“å‰æ­£åœ¨è¿›è¡Œçš„ç£ç›˜IOæ“ä½œæ•°é‡"],
                weighted_io_time: ["ç£ç›˜-åŠ æƒIOæ—¶é—´", "ms", "åŠ æƒåçš„ç£ç›˜IOæ“ä½œæ—¶é—´ï¼ˆæ¯«ç§’ï¼‰"],
            };

            // è·å–å†å²æ•°æ®
            const fetchHistoryData = useCallback(async () => {
                try {
                    const endpoint = `/status/${dataLevel}`; // æ ¹æ®æ•°æ®çº§åˆ«é€‰æ‹©æ¥å£
                    const response = await axios.get(`${HOST}${endpoint}`, {
                        params: { client_id: clientId },
                    });

                    const data = response.data.reverse()
                    // æŠŠCPUç›¸å…³çš„8ä¸ªå˜é‡è½¬ä¸ºç™¾åˆ†æ¯”è¡¨è¾¾
                    data.map((item) => calculateAndNormalizeKeys(item, ["cpu_user", "cpu_system", "cpu_nice", "cpu_idle", "cpu_iowait", "cpu_irq", "cpu_softirq", "cpu_steal"]))
                    data.map((item) => calculateUsedMemParcent(item))

                    setApiData(data)

                    if (data && data.length > 0) {
                        // æå–å¯ç”¨çš„ key åˆ—è¡¨ï¼ˆæ’é™¤ client_id å’Œ timestampï¼‰
                        const keys = Object.keys(data[0]).filter(
                            (key) => key !== 'client_id' && key !== 'timestamp' && apiObjectKeys.hasOwnProperty(key)
                        );
                        setAvailableKeys(keys); // è®¾ç½®å¯é€‰çš„ key åˆ—è¡¨
                        if (!selectedKeys) {
                            setSelectedKeys(['load_1min'])
                        } else {
                            setSelectedKeys(JSON.parse(JSON.stringify(selectedKeys)))
                        }
                    }


                } catch (error) {
                    console.error('Error fetching history data:', error);
                }
            }, [clientId, dataLevel]);

            // åˆå§‹åŒ–æ—¶è·å–æ•°æ®
            useEffect(() => {
                console.log('useEffect', 'init')
                fetchHistoryData();
            }, [fetchHistoryData]);
            //åˆå§‹åŒ–æ—¶è·å–å¤œé—´æ¨¡å¼
            useEffect(() => {
                const isDark = localStorage.getItem('isDark') === 'true';
                if (isDark) {
                    document.body.classList.add('dark');
                } else {
                    document.body.classList.remove('dark');
                }
            }, []);
            // æ•°æ®çº§åˆ«å˜åŒ–æ—¶é‡æ–°è·å–æ•°æ®
            const handleDataLevelChange = (event) => {
                setDataLevel(event.target.value);
            };

            // é€‰ä¸­çš„ key å˜åŒ–æ—¶æ›´æ–°å›¾è¡¨
            const handleSelectedKeysChange = (event) => {
                console.log('selectedKeys', event.target.selectedOptions)
                const selected = Array.from(event.target.selectedOptions, (option) => option.value);
                setSelectedKeys(selected);
            };

            // é€‰é¡¹å˜åŒ–æ—¶æ¸²æŸ“dom
            useEffect(() => {
                console.log('æ›´æ–°è¡¨æ ¼æ•°æ®')
                if (apiData && apiData.length > 0) {


                    function formatTimestamp(timestamp) {
                        const now = Date.now(); // å½“å‰æ—¶é—´æˆ³ï¼ˆæ¯«ç§’ï¼‰
                        const targetTime = timestamp; // å°†ç§’çº§æ—¶é—´æˆ³è½¬æ¢ä¸ºæ¯«ç§’
                        const diff = now - targetTime; // æ—¶é—´å·®ï¼ˆæ¯«ç§’ï¼‰

                        const seconds = (diff / 1000).toFixed(1); // è½¬æ¢ä¸ºç§’
                        const minutes = (seconds / 60).toFixed(1); // è½¬æ¢ä¸ºåˆ†é’Ÿ
                        const hours = (minutes / 60).toFixed(1); // è½¬æ¢ä¸ºå°æ—¶
                        const days = (hours / 24).toFixed(1); // è½¬æ¢ä¸ºå¤©

                        if (seconds < 3600) {
                            // è·ç¦»ç°åœ¨å°äº1å°æ—¶ï¼Œæ ¼å¼åŒ–ä¸º *s
                            return `-${seconds}s`;
                        } else if (hours < 24) {
                            // è·ç¦»ç°åœ¨1-24å°æ—¶ï¼Œæ ¼å¼åŒ–ä¸º *h
                            return `-${hours}h`;
                        } else {
                            // è·ç¦»ç°åœ¨è¶…è¿‡24å°æ—¶ï¼Œæ ¼å¼åŒ–ä¸º *d
                            return `-${days}d`;
                        }
                    }

                    // å¤„ç†æ•°æ®ï¼Œç”Ÿæˆ Chart.js æ‰€éœ€çš„æ ¼å¼
                    const labels = apiData.map((item) => formatTimestamp(item.timestamp * 1000));

                    const CHART_COLORS = {
                        red: 'rgba(255, 99, 132, 0.8)',
                        orange: 'rgba(255, 159, 64, 0.8)',
                        yellow: 'rgba(255, 205, 86, 0.8)',
                        green: 'rgba(75, 192, 192, 0.8)',
                        blue: 'rgba(54, 162, 235, 0.8)',
                        purple: 'rgba(153, 102, 255, 0.8)',
                    };

                    const datasets = selectedKeys.map((key, index) => ({
                        label: key,
                        data: apiData.map((item) => item[key]),
                        borderColor: Object.values(CHART_COLORS)[index % Object.keys(CHART_COLORS).length], // æŒ‰é¡ºåºåˆ†é…é¢œè‰²
                        fill: false,
                        pointStyle: false,
                        borderWidth: 1,
                    }));

                    setChartData({ labels, datasets });
                }
            }, [selectedKeys]);



            // æ¸²æŸ“å›¾è¡¨
            useEffect(() => {
                if (chartData) {
                    console.log(chartData, apiObjectKeys[chartData['datasets'][0].label][0])
                    const ctx = document.getElementById('trendChart').getContext('2d');

                    const chart = new Chart(ctx, {
                        type: 'line',
                        data: chartData,
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            scales: {
                                x: {
                                    ticks: {
                                        maxTicksLimit: 5,
                                        autoSkip: true,
                                        font: { size: 10 },
                                    },
                                    grid: { display: false },
                                },
                                y: {
                                    ticks: {
                                        maxTicksLimit: 5,
                                        font: { size: 10 },
                                        callback: (value) => {
                                            const unit = apiObjectKeys[chartData['datasets'][0].label][1]
                                            let tempValue = 0
                                            if (value > 10) {
                                                if (value > 1000) {
                                                    tempValue = Number(value.toFixed(0)).toLocaleString()
                                                }
                                                else {
                                                    tempValue = value.toFixed(0)
                                                }
                                            } else {
                                                tempValue = value.toFixed(2)
                                            }
                                            return `${tempValue}${unit}`
                                        },
                                    },
                                    grid: { display: true, drawBorder: false },
                                },
                            },
                            plugins: {
                                legend: { display: false },
                                tooltip: { enabled: true, mode: 'index', intersect: false },
                            },
                        },
                    });

                    return () => chart.destroy(); // æ¸…ç†å›¾è¡¨å®ä¾‹
                }
            }, [chartData]);

            return React.createElement(
                'div',
                { className: 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4' },
                React.createElement(
                    'div',
                    { className: 'bg-white rounded-lg p-2 py-4 w-full max-w-4xl' },
                    React.createElement(
                        'div',
                        { className: 'flex justify-between items-center mb-4 ' },
                        React.createElement('h2', { className: 'text-sm font-bold' }, 'ç»Ÿè®¡æ•°æ®'),
                        React.createElement(
                            'button',
                            { onClick: onClose, className: 'text-sm text-gray-500 hover:text-gray-700' },
                            'Close'
                        )
                    ),
                    React.createElement(
                        'div',
                        { className: 'grid grid-cols-2 gap-4 mb-4' },
                        // æ•°æ®çº§åˆ«å•é€‰æ¡†
                        React.createElement(
                            'div',
                            null,
                            React.createElement(
                                'select',
                                {
                                    value: dataLevel,
                                    onChange: handleDataLevelChange,
                                    className: 'text-sm w-full p-2 border rounded',
                                },
                                dataLevelOptions.map((option) =>
                                    React.createElement('option', { key: option.value, value: option.value, title: option.title }, option.label)
                                )
                            )
                        ),
                        // å¤šé€‰æ¡†ï¼ˆæ•°æ®åŠ è½½åæ˜¾ç¤ºï¼‰
                        availableKeys.length > 0 &&
                        React.createElement(
                            'div',
                            null,
                            React.createElement(
                                'select',
                                {
                                    multiple: false,
                                    value: selectedKeys,
                                    onChange: handleSelectedKeysChange,
                                    className: 'text-sm w-full p-2 border rounded',
                                },
                                availableKeys.map((key) =>
                                    React.createElement('option', { key: key, value: key, title: apiObjectKeys[key][2] }, apiObjectKeys[key][0])
                                )
                            )
                        )
                    ),
                    React.createElement(
                        'div',
                        { className: 'relative', style: { minHeight: '350px' } },
                        React.createElement('canvas', { id: 'trendChart' })
                    )
                )
            );
        };





        // Server component
        const Server = React.memo(({ server, isExpanded, onToggleExpand, selectedFields, onFieldSelection }) => {
            const modalRoot = document.getElementById('modal-root');
            if (!modalRoot) return null;

            const [showTrendModal, setShowTrendModal] = useState(false);

            // KeyValue ç»„ä»¶ï¼šç”¨äºæ¸²æŸ“ k:value å¯¹
            const KeyValue = ({ k, v }) => {
                return React.createElement(
                    'div', {},
                    React.createElement('span', { className: 'kv-k text-gray-400 text-xs', title: TITLES[k][2] }, TITLES[k][0]),
                    React.createElement('div', { className: 'kv-v text-gray-700' }, [v, TITLES[k][1]])
                );
            };

            return React.createElement(
                'div',
                { className: `bg-white rounded-lg shadow-sm ${server.isOffline ? 'offline' : 'online'}` },
                React.createElement(
                    'div',
                    {
                        className: ' p-3 cursor-pointer hover:bg-gray-50 rounded-lg transition-colors',
                        onClick: onToggleExpand
                    },
                    React.createElement(
                        'div',
                        { className: `grid-container text-sm ` },
                        selectedFields.map((key) =>
                            React.createElement(KeyValue, { k: key, v: server[key] })
                        )
                    )
                ),
                isExpanded &&
                React.createElement(
                    'div',
                    { className: 'p-3 border-t border-gray-200' },
                    React.createElement(
                        'div',
                        { className: 'grid-container text-sm' },
                        Object.keys(TITLES)
                            .filter((key) => TITLES.hasOwnProperty(key) && !selectedFields.includes(key))
                            .map((key) =>
                                React.createElement(KeyValue, {
                                    k: key,
                                    v: server[key],
                                })
                            ),
                        React.createElement(
                            'div', {},
                            React.createElement('span', { className: 'kv-k text-gray-400 text-xs' }, `æ“ä½œ`),
                            React.createElement('div',
                                {
                                    onClick: () => setShowTrendModal(true),
                                    className: 'operate-button',
                                },
                                'ç»Ÿè®¡'
                            )
                        )
                    )
                ),


                showTrendModal && ReactDOM.createPortal(React.createElement(TrendModal, {
                    clientId: server.client_id,
                    onClose: () => setShowTrendModal(false),
                }), modalRoot)
            );
        });

        // Reducer for managing expanded states
        const expandedStatesReducer = (state, action) => {
            switch (action.type) {
                case 'TOGGLE':
                    return { ...state, [action.machineId]: !state[action.machineId] };
                default:
                    return state;
            }
        };

        function App() {
            const [servers, setServers] = useState([]);
            const [expandedStates, dispatch] = useReducer(expandedStatesReducer, {});
            const [showFieldSelector, setShowFieldSelector] = useState(false);

            // ä» localStorage ä¸­è¯»å– selectedFieldsï¼Œå¦‚æœä¸å­˜åœ¨åˆ™ä½¿ç”¨é»˜è®¤å€¼
            const [selectedFields, setSelectedFields] = useState(() => {
                const savedFields = localStorage.getItem('selectedFields');
                return savedFields ? JSON.parse(savedFields) : ['machine_name', 'loadAverages', 'memoryUsage'];
            });

            const prevServersRef = useRef({}); // å­˜å‚¨ä¸Šä¸€æ¬¡çš„æœåŠ¡å™¨æ•°æ®
            const renderServers = useRef({}); // å­˜å‚¨æ¸²æŸ“ç”¨çš„æœåŠ¡å™¨æ•°æ®



            // å¤„ç†å­—æ®µé€‰æ‹©
            const handleFieldSelection = (key) => {
                let newSelectedFields;
                if (selectedFields.includes(key)) {
                    newSelectedFields = selectedFields.filter(field => field !== key);
                } else {
                    newSelectedFields = [...selectedFields, key];
                }
                setSelectedFields(newSelectedFields);

                // å°†æ–°çš„ selectedFields å­˜å‚¨åˆ° localStorage
                localStorage.setItem('selectedFields', JSON.stringify(newSelectedFields));
            };


            // è®¡ç®— CPU ç™¾åˆ†æ¯”
            const calculateCpuPercentages = (currentCpu, prevCpu) => {
                const diff = {
                    cpu_us: currentCpu.cpu_user - (prevCpu.cpu_user || 0),
                    cpu_sy: currentCpu.cpu_system - (prevCpu.cpu_system || 0),
                    cpu_ni: currentCpu.cpu_nice - (prevCpu.cpu_nice || 0),
                    cpu_id: currentCpu.cpu_idle - (prevCpu.cpu_idle || 0),
                    cpu_wa: currentCpu.cpu_iowait - (prevCpu.cpu_iowait || 0),
                    cpu_hi: currentCpu.cpu_irq - (prevCpu.cpu_irq || 0),
                    cpu_st: currentCpu.cpu_steal - (prevCpu.cpu_steal || 0),
                };

                const total = Object.values(diff).reduce((sum, value) => sum + value, 0);

                // å¦‚æœ total ä¸º 0ï¼Œåˆ™è¿”å›ä¸Šä¸€æ¬¡çš„å€¼
                if (total === 0) {
                    return {
                        cpu_us_percent: prevCpu.cpu_us_percent || '0.00',
                        cpu_sy_percent: prevCpu.cpu_sy_percent || '0.00',
                        cpu_ni_percent: prevCpu.cpu_ni_percent || '0.00',
                        cpu_id_percent: prevCpu.cpu_id_percent || '0.00',
                        cpu_wa_percent: prevCpu.cpu_wa_percent || '0.00',
                        cpu_hi_percent: prevCpu.cpu_hi_percent || '0.00',
                        cpu_st_percent: prevCpu.cpu_st_percent || '0.00',
                    };
                }

                return {
                    cpu_us_percent: ((diff.cpu_us / total) * 100).toFixed(2),
                    cpu_sy_percent: ((diff.cpu_sy / total) * 100).toFixed(2),
                    cpu_ni_percent: ((diff.cpu_ni / total) * 100).toFixed(2),
                    cpu_id_percent: ((diff.cpu_id / total) * 100).toFixed(2),
                    cpu_wa_percent: ((diff.cpu_wa / total) * 100).toFixed(2),
                    cpu_hi_percent: ((diff.cpu_hi / total) * 100).toFixed(2),
                    cpu_st_percent: ((diff.cpu_st / total) * 100).toFixed(2),
                };
            };

            // è®¡ç®—ç½‘ç»œæµé‡é€Ÿåº¦ï¼ˆKB/sï¼‰
            const calculateNetworkSpeed = (currentNet, prevNet) => {
                const timeDiff = currentNet.timestamp - prevNet.timestamp;

                const diffRx = currentNet.default_interface_net_rx_bytes - (prevNet.default_interface_net_rx_bytes || currentNet.default_interface_net_rx_bytes);
                const diffTx = currentNet.default_interface_net_tx_bytes - (prevNet.default_interface_net_tx_bytes || currentNet.default_interface_net_tx_bytes);

                // å¦‚æœå·®å€¼ä¸º 0ï¼Œåˆ™è¿”å›ä¸Šä¸€æ¬¡çš„å€¼
                if (diffRx === 0 && diffTx === 0) {
                    return {
                        netRxSpeedKB: prevNet.netRxSpeedKB || 0.00,
                        netTxSpeedKB: prevNet.netTxSpeedKB || 0.00,
                    };
                }

                return {
                    netRxSpeedKB: (diffRx / 1024 / timeDiff).toFixed(2), // è½¬æ¢ä¸º KB/s
                    netTxSpeedKB: (diffTx / 1024 / timeDiff).toFixed(2), // è½¬æ¢ä¸º KB/s
                };
            };

            function processIOData(prevData, currentData) {
                // è®¡ç®—æ—¶é—´å·®
                const timeDiff = currentData.timestamp - prevData.timestamp;

                // è®¡ç®—I/Oé€Ÿç‡
                const readsPerSecond = ((currentData.reads_completed - prevData.reads_completed) / timeDiff).toFixed(2);
                const writesPerSecond = ((currentData.writes_completed - prevData.writes_completed) / timeDiff).toFixed(2);

                // è®¡ç®—å¹³å‡I/Oå»¶è¿Ÿ
                const avgReadLatency = (currentData.reading_ms / currentData.reads_completed).toFixed(2);
                const avgWriteLatency = (currentData.writing_ms / currentData.writes_completed).toFixed(2);

                // è®¡ç®—ç£ç›˜åˆ©ç”¨ç‡
                const diskUtilization = ((currentData.iotime_ms - prevData.iotime_ms) / (timeDiff * 1000000)).toFixed(2);

                // è®¡ç®—åŠ æƒI/Oæ—¶é—´ç™¾åˆ†æ¯”
                const weightedIoTimePercent = ((currentData.weighted_io_time / currentData.iotime_ms)).toFixed(2);

                // è¿”å›ç»“æœå¯¹è±¡
                return {
                    readsPerSecond,
                    writesPerSecond,
                    avgReadLatency,
                    avgWriteLatency,
                    diskUtilization,
                    weightedIoTimePercent,
                };
            }

            // Fetch data without depending on expandedStates
            const fetchData = useCallback(async () => {
                try {
                    document.getElementById('loading').style.display = 'flex'; // æ˜¾ç¤ºåŠ è½½åŠ¨ç”»
                    const response = await axios.get(`${HOST}/status/latest`);
                    const newServers = response.data;

                    // éå†æ–°æ•°æ®ï¼Œæ›´æ–° renderServers
                    newServers.forEach(server => {

                        // ç°åœ¨æ­¤æ¬¡è®¡ç®—å®é™…ä½¿ç”¨çš„å†…å­˜
                        server.mem_really_used_mib = (server.mem_total_mib - (server.mem_free_mib + server.mem_buff_cache_mib)).toFixed(2);

                        // å‡†å¤‡ç¼“å­˜å­—æ®µ
                        const machineId = server.machine_id;
                        const prevServer = prevServersRef.current[machineId] || {};
                        const renderServer = renderServers.current[machineId] || {};

                        // å¦‚æœæ•°æ®æ²¡æœ‰å˜åŒ–ï¼Œåˆ™è·³è¿‡
                        if (JSON.stringify(server) === JSON.stringify(prevServer)) {
                            return;
                        } else {
                            prevServersRef.current[machineId] = server;
                        }


                        // è®¡ç®— CPU ç™¾åˆ†æ¯”å’Œç½‘ç»œé€Ÿåº¦
                        const cpuPercentages = calculateCpuPercentages(server, prevServer);
                        const networkSpeed = calculateNetworkSpeed(server, prevServer);
                        const uptimeDays = `${Math.floor(server.uptime_s / 3600 / 24)}`


                        const PercentageInfo = ({ used, total, unit = 'G' }) => React.createElement('div', { className: 'flex justify-left items-center' },
                            PercentageCircle({ percentage: (used / total).toFixed(2) }),
                            React.createElement('span', null, `${(used / 1).toFixed(2)}/${(total / 1).toFixed(2)}${unit}`),
                        )


                        // æ›´æ–° renderServers
                        renderServers.current[machineId] = {
                            ...server,
                            machine_name: server.machine_name,
                            ...cpuPercentages,
                            ...networkSpeed,
                            ...processIOData(prevServer, server),

                            loadAverages: `${server.load_1min}/${server.load_5min}/${server.load_15min}`,
                            updateAt: formatTime(server.timestamp),
                            memoryUsage: PercentageInfo({ used: (server.mem_really_used_mib / 1024).toFixed(2), total: (server.mem_total_mib / 1024).toFixed(2) }),
                            tasksInfo: `${server.running_tasks}/${server.total_tasks}`,
                            trafficInfo: `${BtoGB(server.default_interface_net_rx_bytes)}/${BtoGB(server.default_interface_net_tx_bytes)}`,
                            connectionInfo: `${server.tcp_connections}/${server.udp_connections}`,
                            rootDiskInfo: PercentageInfo({ used: BtoGB((server.root_disk_total_kb - server.root_disk_avail_kb) * 1024), total: BtoGB(server.root_disk_total_kb * 1024) }),
                            isOffline: isOutdated(server.timestamp),
                            uptimeDays: uptimeDays,
                        };

                    });

                    // console.log('renderServers',renderServers.current)
                    // å°† renderServers è½¬æ¢ä¸ºæ•°ç»„å¹¶æ›´æ–°çŠ¶æ€
                    setServers(Object.values(renderServers.current));
                    document.getElementById('loading').style.display = 'none'; // éšè—åŠ è½½åŠ¨ç”»
                } catch (error) {
                    console.error('Error fetching data:', error);
                    document.getElementById('loading').style.display = 'none'; // éšè—åŠ è½½åŠ¨ç”»
                }
            }, []);

            // Fetch data on mount and set interval
            useEffect(() => {
                fetchData();
                const interval = setInterval(fetchData, 1000);
                return () => clearInterval(interval);
            }, [fetchData]);

            // Toggle expanded state without triggering network requests
            const toggleExpand = useCallback((machineId) => {
                dispatch({ type: 'TOGGLE', machineId });
            }, []);

            useEffect(() => {
                const isDark = localStorage.getItem('isDark') === 'true';
                if (isDark) {
                    document.body.classList.add('dark-mode');
                } else {
                    document.body.classList.remove('dark-mode');
                }
            }, []);

            return React.createElement(
                'div',
                { className: 'min-h-screen bg-gray-100 p-4' },
                React.createElement(
                    'h1',
                    { className: 'text-xl font-bold mb-4 text-center' },
                    'KunKun Server Monitor'
                ),
                React.createElement(
                    'div',
                    { className: 'space-y-2' },
                    React.createElement(
                        'div',
                        {
                            className: 'p-3 py-0 cursor-pointer rounded-lg transition-colors flex items-center justify-between text-sm',
                        }, [
                        // server.insert_utc_ts æœ€è¿‘æ›´æ–°æ—¶é—´è¶…è¿‡ 60 ç§’è§†ä¸ºç¦»çº¿
                        React.createElement('p', {}, `Online    ${servers.filter(server => !isOutdated(server.timestamp)).length}/${servers.length}`),
                        React.createElement(
                            'button',
                            {
                                className: 'p-1 text-gray-500 hover:text-gray-700',
                                onClick: (e) => {
                                    e.stopPropagation();
                                    setShowFieldSelector(true);
                                }
                            },
                            'âš™ï¸'
                        ),
                        //å¤œé—´æ¨¡å¼
                        React.createElement(
                            'button',
                            {
                                className: 'p-1 text-gray-500 hover:text-gray-700',
                                onClick: (e) => {
                                    e.stopPropagation();
                                    const isDark = localStorage.getItem('isDark') === 'true'
                                    localStorage.setItem('isDark', !isDark)
                                    if (!isDark) {
                                        document.body.classList.add('dark');
                                    } else {
                                        document.body.classList.remove('dark');
                                    }
                                }
                            },
                            'ğŸŒ™'
                        )
                    ]
                    ),
                    servers.map(server =>
                        React.createElement(Server, {
                            key: server.machine_id,
                            server: server,
                            isExpanded: expandedStates[server.machine_id] || false,
                            onToggleExpand: () => toggleExpand(server.machine_id),
                            selectedFields: selectedFields,
                            onFieldSelection: handleFieldSelection
                        })
                    )
                ),
                showFieldSelector &&
                React.createElement(
                    'div',
                    { className: 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center' },
                    React.createElement(
                        'div',
                        { className: 'bg-white p-4 rounded-lg shadow-lg' },
                        [
                            React.createElement('div', { className: 'py-2 ' }, 'é€‰æ‹©ä¼˜å…ˆæ˜¾ç¤ºå­—æ®µ'),
                            React.createElement(
                                'div',
                                { className: 'grid grid-cols-3 gap-2 p-2' },

                                Object.keys(TITLES).map((key) =>
                                    React.createElement(
                                        'label',
                                        { key, className: 'flex items-center text-gray-400 text-xs' },
                                        React.createElement('input', {
                                            type: 'checkbox',
                                            checked: selectedFields.includes(key),
                                            onChange: () => handleFieldSelection(key),
                                        }),
                                        React.createElement('span', { className: 'ml-2' }, TITLES[key][0])
                                    )
                                )
                            )
                        ],
                        React.createElement(
                            'button',
                            {
                                className: 'mt-4 py-2 px-4 text-xs inline-flex items-center rounded-md bg-green-50 px-2 py-1 text-xs font-medium text-green-700 ring-1 ring-inset ring-green-600/20',
                                onClick: () => setShowFieldSelector(false)
                            },
                            'ç¡®è®¤'
                        )
                    )
                )
            );
        }

        ReactDOM.render(React.createElement(App), document.getElementById('root'));
    </script>
</body>

</html>
